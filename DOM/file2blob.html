<!DOCTYPE html>
<html lang="en">
  <head>
    <title>file2Blob</title>
  </head>

  <body>
    <input type="file" id="file" />
  </body>
</html>
<script>
  function file2Blob(file) {
    return new Promise((resolve, reject) => {
      const fileReader = new FileReader();
      fileReader.readAsDataURL(file);
      fileReader.onload = (e) => {
        resolve(e.target.result);
      };
      fileReader.onerror = (e) => reject(e);
    });
  }
  const file = document.querySelector('#file');
  file.addEventListener('change', async () => {
    const content = file.files[0];
    const blobData = await file2Blob(content);
    console.log(blobData);
  });
</script>
